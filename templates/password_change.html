{% extends 'base.html' %}

{% block content %}
<div class="card text-white bg-dark mb-3">
  <h5 class="card-header">
    <div class="row">
      <div class="col-10">
        <i class="fas fa-id-card"></i>
        Change Passowrd
      </div>
      <div class="col-2">
        <a style="color:white" href="{% url cur_view %}">
          <i style="font-size:20px" class="fas fa-times"></i>
        </a>
      </div>
    </div>
  </h5>
  <div class="card-body">
    <form method="post">
      <div class="input-group mb-3">
        <input type="password" class="form-control" name="exist_password" id="exist_password" placeholder="Existing Password">
      </div>
      <div class="input-group mb-3">
        <input type="password" class="form-control" name="password" id="password" placeholder="New Password" oninput="Verify_New_Password()">
      </div>
      <div class="input-group mb-3">
        <input type="password" class="form-control" name="confirm_password" id="confirm_password" placeholder="Confirm New Password" oninput="Verify_New_Password()">
        <div class="input-group-append">
          <span class="input-group-text" onclick="ToogleEdit()"><i id="check" class="fas fa-i-cursor"></i></span>
        </div>
      </div>

      {% if messages %}
      {% for message in messages %}
      <div id="alert" class="alert alert-{{ message.tags }}" role="alert">
        {{message}}
      </div>
      {% endfor %}
      {% endif %}
      <div class="text-center">
        <input id="changepass_submit" class="btn btn-primary" name="changepass_submit" type="submit" value="Submit"></input>
      </div>
    </form>
  </div>
</div>
<script>
  function Verify_New_Password() {
    var new_pass = document.getElementById("password").value;
    var confirm_pass = document.getElementById("confirm_password").value;
    if (new_pass == confirm_pass && confirm_pass!="") {
      document.getElementById("check").className ="fas fa-check-circle"
      document.getElementById("check").style ="color: green"
    } else {
      document.getElementById("check").className ="fas fa-times-circle"
      document.getElementById("check").style ="color: red"
    }
  }
</script>
{% endblock %}